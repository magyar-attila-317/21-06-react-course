<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='utf-8'>
    <title>Hello React</title>
    <script crossorigin src='https://unpkg.com/react@17/umd/react.development.js'></script>
    <script crossorigin src='https://unpkg.com/react-dom@17/umd/react-dom.development.js'></script>
    <script crossorigin src='https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.js'></script>
    <link href='style.css' rel='stylesheet'>
</head>
<body>

<div id='root'></div>

<script type='text/babel'>

    const root = document.getElementById('root');


    const TimerComponent = () => {

        const [timer, setTimer] = React.useState(1);

        setInterval(() => {
            setTimer(timer + 1); //TODO - Note that it's buggy! Discuss why, and fix it!
        }, 1000);

        return <h6 className='caption'>Time spent staring at exciting page: {timer} seconds</h6>;
    };

    const CaptionComponent = (props) => <h2 className='caption'>{props.subtitle}</h2>

    const CounterComponent = () => {

        const [counter, setCounter] = React.useState(0);

        const handleClick = (event) => {
            setCounter(counter + 1);
        }

        return <button onClick={e => handleClick(e)}>I'm clicked {counter} times</button>
    };

    const content = (
        <div>
            <h1 className='main-title'><span>⚛ Hello React!</span></h1>
            <CaptionComponent subtitle={'Dinamikus szöveg!'}/>
            <TimerComponent/>
            <CounterComponent/>
        </div>
    );

    ReactDOM.render(content, root);

</script>

</body>
</html>
